[01. 데이터베이스 성능 핵심]
[02. 인텍스의 기본동작]
[03. 인덱스 자료구조]
[04. 클러스터 인덱스]
[05. 내가 쓴 글 캘린더 구현]
[06. 성능 테스트를 위한 게시물 벌크 인서트 구현]
[07. 인텍스 추가 후 성능 비교]
[08. 인덱스를 다룰 때 주의해야할 점]

# 01. 데이터베이스 성능 핵심
## 메모리 / 디스크 비교
|     | 메모리                  | 디스크     |
| --- | -------------------- | ------- |
| 속도  | 빠름                   | 느림      |
| 영속성 | 전원이 공급되지 않으면 휘발(사라짐) | 영속성이 있음 |
| 가격  | 비쌈                   | 저렴함     |
데이터베이스의 데이터는 결국 디스크에 저장된다.
디스크는 메모리에 비해 훨씬 느리다
결국 데이터베이스 성능에 핵심은 디스크 I/O(접근)을 최소화 하는 것
디스크 접근은 어떻게 줄일 수 있을까?
1. 메모리에 올라온 데이터로 최대한 요청을 처리하는 것 => 메모리 캐시 히트율을 높이는 것
2. 메모리 데이터 유실을 고려해 WAL(Write Ahead Log)를 사용
![[Pasted image 20240616174534.png]]
3. 대부분의 트랜잭션은 무작위하게 Write가 발생 -> 이를 지연시켜 랜덤 I/O 횟수를 줄이는 대신 순차적 I/O를 발생시켜 정합성 유지 [WAL Colin-scott]([https://colin-scott.github.io/personal_website/research/interactive_latency.html](https://colin-scott.github.io/personal_website/research/interactive_latency.html))
4.  결국 데이터베이스 성능에 핵심은 디스크의 랜던 I/O(접근)을 최소화 하는 것
### 디스크
# 05. 내가 쓴 글 캘린더 구현
#### Daily Post Count Request
Entity에서 LocalDate date type은 Web에서 그대로 내보내는 것이 어렵기 때문에 LocalDate 형식의 데이터는 어노테이션으로 DateTimeFormat인걸 알려줘야 한다.
```java
@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)
LocalDate date;
```

# 06. 성능 테스트를 위한 게시물 벌크 인서트 구현
EasyRandom Git의 Document? WIki? 에 사용법이 나와있다.

#스프링 #자바 #패스트캠퍼스 #대용량트래픽처